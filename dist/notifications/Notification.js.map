{"version":3,"sources":["notifications/Notification.ts"],"names":[],"mappings":"AAAA;;GAEG;AAEH,OAAO,EAAE,OAAO,EAAE,8BAA2B;AAQ7C,MAAM,MAAM,GAAG,EAAE,CAAC;AA8BlB,MAAM,qBAAqB,GAAG,GAAS,EAAE;IACvC,0CAA0C;IAE1C,IAAI,CAAC,CAAC,qBAAqB,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;QACzC,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,iDAAiD,CAAC,CAAC;KACrE;IAED,MAAM,CAAC,IAAI;QACH,MAAM,CAAC,IAAI;YACX;gBACJ,YAAY,EAAE;oBACZ,KAAK,EAAE,GAAG,EAAE;wBACV,CAAC,CAAC,yBAAyB,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,EAAE;4BAC7C,CAAC,CAAC,qBAAqB,CAAC,CAAC,KAAK,EAAE,CAAC;wBACnC,CAAC,CAAC,CAAC;oBACL,CAAC;oBACD,IAAI,EAAE,CAAC,OAAe,EAAE,UAAkB,IAAI,EAAE,EAAE;wBAEhD,IAAI,IAAI,GAAG,CAAC,CAAC,qBAAqB,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;wBACpD,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;wBAE3B,IAAI,OAAO;4BACT,UAAU,CAAC,GAAG,EAAE;gCACd,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,EAAE;oCACxB,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC;gCACnB,CAAC,CAAC,CAAC;4BACL,CAAC,EAAE,OAAO,CAAC,CAAC;;4BAEZ,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,sEAAsE,OAAO,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,0BAA0B,CAAC,UAAU,CAAC,CAAC;wBAEtJ,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE;4BACvB,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,EAAE;gCACxB,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC;4BACnB,CAAC,CAAC,CAAC;wBACL,CAAC,CAAC,CAAC;oBACL,CAAC;iBACF;aACF,CAAC;AACN,CAAC,CAAC;AAEF,eAAe,qBAAqB,CAAC","file":"Notification.js","sourcesContent":["/**\n * Shows notifcations and hints to the user\n */\n\nimport { getGame } from \"../scripts/getGame\";\n\ndeclare global {\n  interface Window {\n    vtta: VTTA;\n  }\n}\n\nconst MARGIN = 10;\n\ninterface NotificationsOptionsHide {\n  selector: JQuery;\n  event: string;\n}\n\ninterface NotificationOptions {\n  width?: number;\n  height?: number;\n  element?: JQuery;\n  align?: string;\n  buttons?: string[];\n  hide?: NotificationsOptionsHide;\n}\n\ninterface Notification {\n  hide?: () => void;\n  show?: (message: string, timeout?: number) => void;\n}\n\ninterface Hint {\n  hide?: () => void;\n  show?: (message: string, options?: NotificationOptions) => void;\n}\n\ninterface VTTA {\n  notification: Notification;\n}\n\nconst registerNotifications = (): void => {\n  // register the notification global object\n\n  if ($(\"#tips-notifications\").length === 0) {\n    $(\"body\").append(`<div id=\"tips-notifications\" class=\"app\"></div>`);\n  }\n\n  window.vtta =\n    <VTTA>window.vtta ||\n    <VTTA>{\n      notification: {\n        clear: () => {\n          $(\"#tips-notifications div\").fadeOut(200, () => {\n            $(\"#tips-notifications\").empty();\n          });\n        },\n        show: (message: string, timeout: number = 4000) => {\n\n          let note = $(\"#tips-notifications\").append(message);\n          $(note).hide().fadeIn(200);\n\n          if (timeout)\n            setTimeout(() => {\n              $(note).fadeOut(200, () => {\n                $(note).remove();\n              });\n            }, timeout);\n          else\n            $(note).append(`<p style=\"text-align: center; color: #7e7e7e; margin: 0px;\"><small>${getGame().i18n.localize(\"FOUNDRYTIPS.clicktoclose\")}</small>`);\n\n          $(note).on(\"click\", () => {\n            $(note).fadeOut(200, () => {\n              $(note).remove();\n            });\n          });\n        },\n      }\n    };\n};\n\nexport default registerNotifications;\n"]}